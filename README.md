# –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ —Å—Ç–∞–∂–∏—Ä–æ–≤–∫—É Avito 2024

## –û–ø–∏—Å–∞–Ω–∏–µ
–°–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–∞–Ω–Ω–µ—Ä—ã, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç—Ä–µ–±—É–µ–º–æ–π —Ñ–∏—á–∏ –∏ —Ç–µ–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞ —Ç–∞–∫–∂–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –±–∞–Ω–Ω–µ—Ä–∞–º–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å –Ω–∏–º–∏ —Ç–µ–≥–∞–º–∏ –∏ —Ñ–∏—á–∞–º–∏.

–°—É—â–Ω–æ—Å—Ç–∏ –ë–î –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `postgres`.

–ö–æ–ª–ª–µ–∫—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø–æ—Å—Ç–º–∞–Ω–∞ –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `postman`.

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ 1000 —Ç–µ–≥–æ–≤, —Ñ–∏—á –∏ –±–∞–Ω–Ω–µ—Ä–æ–≤. –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–Ω–µ—Ä–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ –¥–∞–Ω–Ω—ã–º –∏–∑ –ø–æ—Å—Ç–º–∞–Ω–∞, –±—ã–ª–∞ –æ–∫–æ–ª–æ 4 –º—Å.


## –°—Ç–µ–∫
1. Golang
2. Postgres
3. Gin
4. Docker
5. go-cache

## Quickstart
1. üíª –°–∫–∞—á–∞–π –ø—Ä–æ–µ–∫—Ç
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç: `docker compose up`

## Credentials
–¢–æ–∫–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Header `token`

- –¢–æ–∫–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞: `admin`
- –¢–æ–∫–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `user`

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### POST –î–æ–±–∞–≤–∏—Ç—å –±–∞–Ω–Ω–µ—Ä
`http://localhost:8080/banner`
#### Body
```
{
  "tag_ids": [
    1,2,7
  ],
  "feature_id": 4,
  "content": {
    "title": "Alice",
    "text": "alice",
    "url": "alice.com"
  },
  "is_active": true
}
```

#### Response
```
{
    "banner_id": 1
}
```

### GET –ü–æ–ª—É—á–∏—Ç—å –±–∞–Ω–Ω–µ—Ä
`http://localhost:8080/user_banner?tag_id=1&feature_id=4`

#### Response
```
{
    "text": "alice",
    "title": "Alice",
    "url": "alice.com"
}
```

### PATCH –ò–∑–º–µ–Ω–∏—Ç—å –±–∞–Ω–Ω–µ—Ä
`http://localhost:8080/banner/1`
#### Body
```
{
  "tag_ids": [
    1,2,9
  ],
  "feature_id": 5,
  "content": {
    "title": "Alice2",
    "text": "alice2",
    "url": "alice2.com"
  },
  "is_active": false
}
```

### GET –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–∞–Ω–Ω–µ—Ä–æ–≤
`http://localhost:8080/user_banner?tag_id=1&feature_id=4`

#### Response
```
[
    {
        "banner_id": 1,
        "tag_ids": [
            1,
            2,
            9
        ],
        "feature_id": 5,
        "content": {
            "text": "alice2",
            "title": "Alice2",
            "url": "alice2.com"
        },
        "is_active": false,
        "created_at": "2024-04-14T19:53:26Z",
        "updated_at": "2024-04-14T19:53:44Z"
    }
]
```

### DELETE –£–¥–∞–ª–∏—Ç—å –±–∞–Ω–Ω–µ—Ä
`http://localhost:8080/banner/1`